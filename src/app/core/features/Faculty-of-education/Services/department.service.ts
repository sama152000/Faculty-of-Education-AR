import { Injectable } from '@angular/core';
import { Department } from '../model/department.model';

@Injectable({
  providedIn: 'root'
})
export class DepartmentService {
  private departments: Department[] = [
    {
      id: 'curricula-teaching',
      name: 'المناهج وأساليب التدريس',
      description: 'يتخصص في تجهيز المعلمين المستقبليين وتطوير أساليب التدريس الحديثة وتطبيقاتها عبر مختلف المواد الأكاديمية.',
      icon: 'pi pi-book',
      order: 1,
      viceDean: 'أ.د. أحمد حسن محمد',
      subjects: [
        'أساليب تدريس اللغة العربية',
        'أساليب تدريس الرياضيات',
        'أساليب تدريس العلوم',
        'تطوير المناهج وتصميمها',
        'التكنولوجيا التعليمية',
        'أساليب التقييم والتقويم',
        'أساليب تدريس التعليم الخاص',
        'أساليب تدريس الدراسات الاجتماعية'
      ],
      objectives: [
        'تجهيز معلمين مؤهلين قادرين على استخدام أساليب التدريس الحديثة',
        'تطوير مناهج مبتكرة تلبي الاحتياجات التعليمية المعاصرة',
        'تعزيز استخدام التكنولوجيا التعليمية في عمليات التدريس',
        'تحسين أساليب التقييم والتقويم في التعليم',
        'إجراء أبحاث في تطوير المناهج وأساليب التدريس',
        'توفير برامج تدريب للمعلمين العاملين',
        'تعزيز التفكير النقدي والإبداع في الممارسات التعليمية'
      ],
      services: [
        'برامج تجهيز وتدريب المعلمين',
        'استشارات تطوير المناهج',
        'دعم دمج التكنولوجيا التعليمية',
        'تصميم وتنفيذ التقييم',
        'إشراف وتوجيه الأبحاث',
        'ورش عمل للتطوير المهني',
        'تطوير المواد التعليمية',
        'إشراف على التدريب العملي'
      ]
    },
    {
      id: 'foundations-education',
      name: 'أسس التربية',
      description: 'يركز على دراسة الفلسفات ومبادئ التربية الأساسية، وعلاقتها بالمجتمع، وتطوير السياسات التعليمية.',
      icon: 'pi pi-building',
      order: 2,
      viceDean: 'أ.د. فاطمة علي إبراهيم',
      subjects: [
        'فلسفة التربية',
        'تاريخ التربية',
        'علم اجتماع التربية',
        'اقتصاد التربية',
        'التعليم المقارن',
        'سياسة وتخطيط التعليم',
        'مناهج البحث التعليمي',
        'أخلاقيات التربية'
      ],
      objectives: [
        'فهم الأسس الفلسفية للأنظمة التعليمية',
        'تحليل التطور التاريخي للفكر التعليمي',
        'فحص العلاقة بين التعليم والمجتمع',
        'تطوير سياسات تعليمية بناءً على مبادئ سليمة',
        'إجراء دراسات مقارنة للأنظمة التعليمية',
        'تعزيز الممارسات الأخلاقية في الإعداد التعليمي',
        'تعزيز التحليل النقدي للمشكلات التعليمية'
      ],
      services: [
        'استشارات سياسة تعليمية',
        'أبحاث تاريخية في التعليم',
        'تحليل فلسفي للتعليم',
        'دراسات تعليم مقارن',
        'دعم تخطيط التعليم',
        'تدريب في منهجيات البحث',
        'ورش عمل حول أخلاقيات التربية',
        'توجيه الإصلاح التعليمي'
      ]
    },
    {
      id: 'mental-health',
      name: 'الصحة النفسية',
      description: 'مكرس لدراسة الصحة النفسية للطلاب والمعلمين، وتوفير برامج الدعم والاستشارات النفسية.',
      icon: 'pi pi-heart',
      order: 3,
      viceDean: 'أ.د. محمد سعيد عبد الرحمن',
      subjects: [
        'مبادئ الصحة النفسية',
        'الإرشاد النفسي',
        'التدخل في الأزمات',
        'تقنيات العلاج الجماعي',
        'الصحة النفسية للأطفال والمراهقين',
        'إدارة الضغوط',
        'الاضطرابات السلوكية',
        'التواصل العلاجي'
      ],
      objectives: [
        'تعزيز الوعي ب الصحة النفسية في الإعداد التعليمي',
        'توفير خدمات إرشاد نفسي فعالة',
        'تطوير برامج تدخل لمشكلات الصحة النفسية',
        'تدريب المحترفين في دعم الصحة النفسية',
        'إجراء أبحاث حول الصحة النفسية التعليمية',
        'خلق بيئات داعمة للطلاب والعاملين',
        'تنفيذ برامج للوقاية من الاضطرابات النفسية'
      ],
      services: [
        'الإرشاد النفسي الفردي',
        'جلسات العلاج الجماعي',
        'دعم التدخل في الأزمات',
        'تقييم الصحة النفسية',
        'برامج إدارة الضغوط',
        'ورش عمل تدريبية مهنية',
        'خدمات البحث والتقييم',
        'برامج التواصل المجتمعي'
      ]
    },
    {
      id: 'psychology',
      name: 'علم النفس',
      description: 'يستكشف سلوك الإنسان وعمليات التعلم، مع التركيز على تطبيقات علم النفس التعليمي.',
      icon: 'pi pi-users',
      order: 4,
      viceDean: 'أ.د. نادية محمود حسن',
      subjects: [
        'علم النفس التعليمي',
        'علم النفس التنموي',
        'علم النفس المعرفي',
        'نظريات التعلم',
        'الاختبارات النفسية والقياس',
        'علم النفس السلوكي',
        'علم النفس الاجتماعي',
        'مناهج البحث في علم النفس'
      ],
      objectives: [
        'فهم المبادئ النفسية في السياقات التعليمية',
        'تطبيق نظريات التعلم لتحسين النتائج التعليمية',
        'تطوير أدوات تقييم نفسية',
        'إجراء أبحاث حول سلوك الإنسان والتعلم',
        'تدريب المعلمين في المبادئ النفسية',
        'تعزيز الممارسات التعليمية القائمة على الأدلة',
        'دعم الفروق الفردية في التعلم'
      ],
      services: [
        'التقييم النفسي والاختبارات',
        'استشارات علم النفس التعليمي',
        'تقييم اضطرابات التعلم',
        'برامج التدخل السلوكي',
        'تصميم وتحليل الأبحاث',
        'تدريب للتطوير المهني',
        'إشراف على أبحاث نفسية',
        'تقييم البرامج التعليمية'
      ]
    },
    {
      id: 'comparative-education',
      name: 'التعليم المقارن وإدارة التعليم',
      description: 'يهتم بدراسة الأنظمة التعليمية عالميًا وإدارة المؤسسات التعليمية باستخدام نهج حديث وفعال.',
      icon: 'pi pi-globe',
      order: 5,
      viceDean: 'أ.د. عمر عبد العزيز محمد',
      subjects: [
        'أنظمة التعليم المقارن',
        'إدارة التعليم',
        'القيادة التعليمية',
        'إدارة المدارس',
        'التمويل التعليمي',
        'الموارد البشرية في التعليم',
        'ضمان جودة التعليم',
        'سياسات التعليم الدولي'
      ],
      objectives: [
        'مقارنة الأنظمة التعليمية عبر الدول المختلفة',
        'تطوير ممارسات إدارية تعليمية فعالة',
        'تدريب القادة والإداريين التعليميين',
        'تحسين أنظمة إدارة المدارس',
        'تعزيز ضمان جودة التعليم',
        'تعزيز التعاون التعليمي الدولي',
        'إجراء أبحاث حول الحوكمة التعليمية'
      ],
      services: [
        'تحليل الأنظمة التعليمية',
        'برامج تدريب إداري',
        'ورش عمل تطوير القيادة',
        'استشارات إدارة المدارس',
        'تقييم ضمان الجودة',
        'دعم تطوير السياسات',
        'شراكات تعليمية دولية',
        'دراسات وبحوث مقارنة'
      ]
    }
  ];

  getDepartments(): Department[] {
    return this.departments.sort((a, b) => a.order - b.order);
  }

  getDepartmentById(id: string): Department | undefined {
    return this.departments.find(dept => dept.id === id);
  }

  getDepartmentsByIds(ids: string[]): Department[] {
    return this.departments.filter(dept => ids.includes(dept.id));
  }

  getDepartmentNavigation(currentId: string) {
    const departments = this.getDepartments();
    const currentIndex = departments.findIndex(dept => dept.id === currentId);
    
    if (currentIndex === -1) {
      return null;
    }

    return {
      currentIndex,
      totalDepartments: departments.length,
      previousDepartment: currentIndex > 0 ? departments[currentIndex - 1] : undefined,
      nextDepartment: currentIndex < departments.length - 1 ? departments[currentIndex + 1] : undefined
    };
  }
}