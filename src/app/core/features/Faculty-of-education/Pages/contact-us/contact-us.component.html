<section class="contact-us-section">
  <div class="container-fluid">
    <!-- رأس الصفحة -->
    <app-page-header
      [title]="'تواصل معنا'"
      [breadcrumbs]="[{ label: 'تواصل', url: '/contact' }]">
    </app-page-header>

    <!-- محتوى التواصل -->
    <div class="contact-content">
      <!-- معلومات الاتصال -->
      <div class="contact-info-section">
        <div class="info-card">
          <div class="card-header">
            <div class="header-icon">
              <i class="pi pi-map-marker"></i>
            </div>
            <h3 class="card-title">معلومات الاتصال</h3>
            <p class="card-subtitle">تواصل معنا عبر أي من هذه القنوات</p>
          </div>

          <div class="contact-details">
            <!-- العنوان -->
            <div class="contact-item">
              <div class="item-icon">
                <i class="pi pi-map-marker"></i>
              </div>
              <div class="item-content">
                <h4 class="item-title">العنوان</h4>
                <p class="item-text">{{ contactInfo.address }}</p>
                <button class="copy-btn" (click)="copyToClipboard(contactInfo.address)" title="نسخ العنوان">
                  <i class="pi pi-copy"></i>
                </button>
              </div>
            </div>

            <!-- البريد الإلكتروني -->
            <div class="contact-item">
              <div class="item-icon">
                <i class="pi pi-envelope"></i>
              </div>
              <div class="item-content">
                <h4 class="item-title">البريد الإلكتروني</h4>
                <a [href]="'mailto:' + contactInfo.email" class="item-link">{{ contactInfo.email }}</a>
                <button class="copy-btn" (click)="copyToClipboard(contactInfo.email)" title="نسخ البريد الإلكتروني">
                  <i class="pi pi-copy"></i>
                </button>
              </div>
            </div>

            <!-- الهاتف -->
            <div class="contact-item">
              <div class="item-icon">
                <i class="pi pi-phone"></i>
              </div>
              <div class="item-content">
                <h4 class="item-title">الهاتف</h4>
                <a [href]="'tel:' + contactInfo.phone" class="item-link">{{ contactInfo.phone }}</a>
                <button class="copy-btn" (click)="copyToClipboard(contactInfo.phone)" title="نسخ رقم الهاتف">
                  <i class="pi pi-copy"></i>
                </button>
              </div>
            </div>
          </div>

          <!-- وسائل التواصل الاجتماعي -->
          <div class="social-media-section">
            <h4 class="social-title">تابعنا</h4>
            <div class="social-links">
              <a *ngFor="let social of contactInfo.socialMedia" 
                 [href]="social.url" 
                 target="_blank" 
                 class="social-link"
                 [title]="social.platform">
                <i [class]="social.icon"></i>
                <span>{{ social.platform }}</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- نموذج التواصل -->
      <div class="contact-form-section">
        <div class="form-card">
          <div class="form-header">
            <div class="header-icon">
              <i class="pi pi-send"></i>
            </div>
            <h3 class="form-title">أرسل لنا رسالة</h3>
            <p class="form-subtitle">يسعدنا سماع منك. أرسل لنا رسالة وسنرد عليك في أقرب وقت ممكن.</p>
          </div>

          <!-- رسالة النجاح -->
          <div class="success-message" *ngIf="submitSuccess">
            <div class="success-icon">
              <i class="pi pi-check-circle"></i>
            </div>
            <h4>تم إرسال الرسالة بنجاح!</h4>
            <p>شكرًا لتواصلك معنا. سنتواصل معك قريبًا.</p>
          </div>

          <!-- نموذج التواصل -->
          <form class="contact-form" (ngSubmit)="onSubmit()" *ngIf="!submitSuccess">
            <div class="form-row">
              <div class="form-group">
                <label for="name" class="form-label">
                  <i class="pi pi-user"></i>
                  الاسم الكامل
                </label>
                <input type="text" 
                       id="name" 
                       class="form-input" 
                       [(ngModel)]="contactForm.name"
                       name="name"
                       placeholder="أدخل اسمك الكامل"
                       required>
              </div>

              <div class="form-group">
                <label for="email" class="form-label">
                  <i class="pi pi-envelope"></i>
                  عنوان البريد الإلكتروني
                </label>
                <input type="email" 
                       id="email" 
                       class="form-input" 
                       [(ngModel)]="contactForm.email"
                       name="email"
                       placeholder="أدخل عنوان بريدك الإلكتروني"
                       required>
              </div>
            </div>

            <div class="form-group">
              <label for="subject" class="form-label">
                <i class="pi pi-tag"></i>
                الموضوع
              </label>
              <input type="text" 
                     id="subject" 
                     class="form-input" 
                     [(ngModel)]="contactForm.subject"
                     name="subject"
                     placeholder="أدخل موضوع الرسالة"
                     required>
            </div>

            <div class="form-group">
              <label for="message" class="form-label">
                <i class="pi pi-comment"></i>
                الرسالة
              </label>
              <textarea id="message" 
                        class="form-textarea" 
                        [(ngModel)]="contactForm.message"
                        name="message"
                        placeholder="أدخل رسالتك هنا..."
                        rows="6"
                        required></textarea>
            </div>

            <button type="submit" 
                    class="submit-btn" 
                    [disabled]="!isValidForm() || isSubmitting">
              <span *ngIf="!isSubmitting">
                <i class="pi pi-send"></i>
                إرسال الرسالة
              </span>
              <span *ngIf="isSubmitting">
                <i class="pi pi-spin pi-spinner"></i>
                جارٍ الإرسال...
              </span>
              <div class="btn-glow"></div>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- الروابط المهمة -->
    <div class="important-links-section">
      <div class="links-header">
        <h3 class="links-title">الروابط والخدمات المهمة</h3>
        <p class="links-subtitle">الوصول السريع إلى الموارد والخدمات الأساسية للجامعة</p>
      </div>

      <div class="links-grid">
        <div class="link-card" *ngFor="let link of contactInfo.importantLinks; let i = index"
             [style.animation-delay.ms]="i * 150">
          <div class="link-icon">
            <i [class]="link.icon"></i>
          </div>
          <div class="link-content">
            <h4 class="link-title">{{ link.title }}</h4>
            <p class="link-description">{{ link.description }}</p>
            <a [href]="link.url" 
               target="_blank" 
               class="link-button">
              <span>زيارة</span>
              <i class="pi pi-external-link"></i>
            </a>
          </div>
          <div class="link-glow"></div>
        </div>
      </div>
    </div>
  </div>
</section>