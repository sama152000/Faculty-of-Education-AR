<!-- Loading State -->
@if (isLoading()) {
<section class="statistics-section">
  <div class="container-fluid">
    <div class="loading-container text-center py-5">
      <i
        class="pi pi-spin pi-spinner"
        style="font-size: 2rem; color: var(--primary-color)"
      ></i>
      <p class="mt-3">جاري تحميل الإحصائيات...</p>
    </div>
  </div>
</section>
}

<!-- Statistics Section -->
@if (!isLoading()) {
<section class="statistics-section">
  <div class="container-fluid">
    <!-- رأس القسم -->
    <div class="section-header">
      <div class="header-content">
        <span class="section-badge">
          <i class="pi pi-chart-bar"></i>
          أرقام وإنجازات
        </span>
        <h2 class="section-title">الإحصائيات الأكاديمية</h2>
        <p class="section-subtitle">نظرة شاملة على إنجازات وأرقام الكلية</p>
      </div>
    </div>

    <!-- الإحصائيات -->
    @if (activeStatistics().length > 0) {
    <div class="statistics-grid premium-grid">
      @for (stat of activeStatistics(); track stat.id; let i = $index) {
      <div
        class="stat-card premium-card"
        [style.animation-delay.ms]="i * 150"
        [class]="'card-variant-' + ((i % 4) + 1)"
      >
        <!-- Card Background Effect -->
        <div class="card-bg-pattern"></div>

        <!-- Icon Container -->
        <div class="stat-icon-wrapper">
          <div class="stat-icon">
            <i [class]="getStatIcon(stat)"></i>
          </div>
          <div class="icon-ring"></div>
        </div>

        <!-- Content -->
        <div class="stat-content">
          <div class="stat-value">
            <span class="value-number">{{ formatValue(stat.value) }}</span>
            <span class="value-plus">+</span>
          </div>
          <div class="stat-title">{{ stat.title }}</div>
          <div class="stat-underline"></div>
        </div>

        <!-- Decorative Elements -->
        <div class="card-corner top-right"></div>
        <div class="card-corner bottom-left"></div>
      </div>
      }
    </div>
    } @else {
    <div class="no-data-message text-center py-4">
      <i
        class="pi pi-info-circle mb-2"
        style="font-size: 2rem; color: var(--text-muted)"
      ></i>
      <p>لا توجد إحصائيات متاحة حالياً</p>
    </div>
    }
  </div>
</section>
}
