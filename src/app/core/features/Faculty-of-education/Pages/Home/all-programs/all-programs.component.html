<section class="programs-section">
  <div class="container-fluid">
    <!-- Section Header -->
    <div class="section-header">
      <div class="header-content">
        <span class="section-badge">
          <i class="pi pi-book"></i>
          البرامج الأكاديمية
        </span>
        <h2 class="section-title">جميع البرامج</h2>
        <p class="section-subtitle">
          استكشف مجموعتنا الشاملة من البرامج التعليمية
        </p>
      </div>
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="loading-container">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <p>جارٍ تحميل البرامج...</p>
      </div>
    </div>
    }

    <!-- Programs Grid -->
    @if (!isLoading() && filteredItems().length > 0) {
    <div class="programs-grid">
      @for (program of filteredItems(); track program.id; let i = $index) {
      <div class="program-card" [style.animation-delay.ms]="i * 150">
        <!-- Card Header -->
        <div class="card-header">
          <div class="card-image">
            <img
              [src]="getProgramImage(program)"
              [alt]="getProgramTitle(program)"
              class="item-image"
            />
            <div class="image-overlay">
              <div class="type-badge program-badge">
                <i class="pi pi-book"></i>
                <span>برنامج</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Card Content -->
        <div class="card-content">
          <h4 class="item-title">{{ getProgramTitle(program) }}</h4>
          <p class="item-excerpt">{{ getProgramDescription(program) }}</p>

          <div class="card-footer">
            <button
              class="read-more-btn"
              (click)="navigateToProgramDetails(program)"
            >
              <span>عرض التفاصيل</span>
              <i class="pi pi-arrow-left"></i>
            </button>
          </div>
        </div>

        <!-- Card Decorations -->
        <div class="card-glow"></div>
      </div>
      }
    </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && filteredItems().length === 0) {
    <div class="empty-state">
      <div class="empty-icon">
        <i class="pi pi-inbox"></i>
      </div>
      <h3 class="empty-title">لم يتم العثور على برامج</h3>
      <p class="empty-description">تحقق لاحقاً لمعرفة البرامج الجديدة.</p>
    </div>
    }

    <!-- View All Button -->
    @if (!isLoading() && filteredItems().length > 0) {
    <div class="view-all-section">
      <button class="view-all-btn" (click)="navigateToPrograms()">
        <span>عرض جميع البرامج</span>
        <i class="pi pi-arrow-left"></i>
        <div class="btn-glow"></div>
      </button>
    </div>
    }
  </div>
</section>
